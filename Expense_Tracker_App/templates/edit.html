{% extends "base.html" %}
{% block title %}Edit Expense · Expense Tracker{% endblock %}

{% block content %}
<section class="w-full max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <!-- 📝 Header -->
  <div class="text-center mb-8">
    <h1 class="text-2xl sm:text-3xl font-semibold mb-2">Edit Expense</h1>
    <p class="text-slate-400 text-sm sm:text-base">Update the fields and save your changes.</p>
  </div>

  <!-- 🧾 Form Card -->
  <section class="rounded-2xl border border-slate-800 bg-slate-900 p-4 sm:p-6 shadow-lg">
    <form method="post" class="space-y-4 sm:space-y-5">
      
      <!-- 📝 Description -->
      <label class="block text-sm">
        <span class="mb-1 block text-slate-300">Description</span>
        <input
          name="description"
          value="{{ expense.description }}"
          class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 sm:py-3 text-slate-100 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-brand/40"
        />
      </label>

      <!-- 💰 Amount + 📅 Date -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
        <label class="block text-sm">
          <span class="mb-1 block text-slate-300">Amount</span>
          <input
            type="number" step="0.01" min="0.01" name="amount"
            value="{{ '%.2f'|format(expense.amount) }}"
            class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 sm:py-3 text-slate-100 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-brand/40"
          />
        </label>

        <label class="block text-sm">
          <span class="mb-1 block text-slate-300">Date</span>
          <input
            type="date" name="date"
            value="{{ expense.date.strftime('%Y-%m-%d') if expense.date else today }}"
            class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 sm:py-3 text-slate-100 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-brand/40"
          />
        </label>
      </div>

      <!-- 🗂️ Category -->
      <label class="block text-sm">
        <span class="mb-1 block text-slate-300">Category</span>
        <select
          name="category"
          class="w-full rounded-xl bg-slate-800 border border-slate-700 px-3 py-2 sm:py-3 text-slate-100 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-brand/40"
        >
          {% for c in categories %}
            <option value="{{ c }}" {% if expense.category == c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
      </label>

      <!-- 💾 Buttons -->
      <div class="flex flex-wrap items-center gap-3 sm:gap-4 pt-2">
        <button
          class="rounded-xl bg-brand/20 hover:bg-brand/30 text-brand px-5 py-2 sm:py-3 border border-brand/30 font-medium text-sm sm:text-base transition"
          type="submit"
        >
          💾 Save Changes
        </button>

        <a
          class="rounded-xl bg-slate-800 hover:bg-slate-700 px-5 py-2 sm:py-3 border border-slate-700 text-slate-200 font-medium text-sm sm:text-base transition"
          href="{{ url_for('index') }}"
        >
          ✖ Cancel
        </a>
      </div>
    </form>
  </section>
</section>
{% endblock %}
